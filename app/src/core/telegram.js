const a3_0xe7efe2=a3_0x1658;(function(_0x1be131,_0x48a7cd){const _0x57ef8a=a3_0x1658,_0x15d55e=_0x1be131();while(!![]){try{const _0x7efca2=-parseInt(_0x57ef8a(0x95))/0x1+parseInt(_0x57ef8a(0x78))/0x2+-parseInt(_0x57ef8a(0x7d))/0x3+-parseInt(_0x57ef8a(0x8c))/0x4+-parseInt(_0x57ef8a(0x8d))/0x5*(parseInt(_0x57ef8a(0x8a))/0x6)+-parseInt(_0x57ef8a(0xa6))/0x7+parseInt(_0x57ef8a(0x8e))/0x8;if(_0x7efca2===_0x48a7cd)break;else _0x15d55e['push'](_0x15d55e['shift']());}catch(_0x4302af){_0x15d55e['push'](_0x15d55e['shift']());}}}(a3_0x47d9,0x464fe));import a3_0x1b9ddb from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x48933f from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';function a3_0x1658(_0x7e88c4,_0x49d87e){const _0x47d9e3=a3_0x47d9();return a3_0x1658=function(_0x16581f,_0x5902a4){_0x16581f=_0x16581f-0x6b;let _0x1d0c06=_0x47d9e3[_0x16581f];return _0x1d0c06;},a3_0x1658(_0x7e88c4,_0x49d87e);}function a3_0x47d9(){const _0x2429eb=['accounts','Invalid\x20Input','onBoarding','android','bot','indexOf','getSession','queryCreation','messages','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','createDir','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','1499502kdaTaZ','resolvePeer','363440DKIbam','5RcFebG','6976448OEiDTS','You\x20dont\x20have\x20any\x20Query\x20Account.','log','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','url','https://webapp.pitchtalk.app/','Your\x20Account\x20List\x20:\x0a\x20\x0a','295755EbqnIB','getEntity','stringify','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','readQueryFile','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','\x20-\x20Resolving\x20Peer','\x20-\x20Created','getTelegramQuery','save','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','TELEGRAM_APP_HASH','TELEGRAM_APP_ID','\x20-\x20Webview\x20Connected','init','1942402QefDdk','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','query-','invoke','\x20|\x20Sleep\x20','/query.txt','destroy','query','disconnect','queryModificaiton','accountName','client','delay','storeSession','peer','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','saveQueryFile','Query\x20','Please\x20Enter\x20Telegram\x20Query\x20:\x20','accountType','accounts/','length','filter','info','proxy','error','resetAccounts','RequestWebView','agent','session','Session\x20','seconds','start','serverAddress','text','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','initWebView','sessionCreation','\x20|\x20FloodWait\x20','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','1039400wTNASD','Invalid\x20input,\x20Please\x20try\x20again','pitchtalk_bot','useSession','sessions-','569220EEItMA'];a3_0x47d9=function(){return _0x2429eb;};return a3_0x47d9();}export class Telegram{[a3_0xe7efe2(0xb3)];constructor(){const _0x468b17=a3_0xe7efe2;this[_0x468b17(0xb0)]=_0x468b17(0x7e),this[_0x468b17(0x92)]=_0x468b17(0x93),this[_0x468b17(0x82)]=_0x468b17(0x7a);}async[a3_0xe7efe2(0xa5)](){const _0x16d05a=a3_0xe7efe2;try{await this['onBoarding']();}catch(_0x2d264d){console['log'](_0x2d264d),a3_0x48933f[_0x16d05a(0xbf)](''+JSON[_0x16d05a(0x97)](_0x2d264d));throw _0x2d264d;}}async[a3_0xe7efe2(0x80)](){const _0x5b394d=a3_0xe7efe2;try{let _0x3038ce=_0x5b394d(0x91);const _0x2143f9=Helper[_0x5b394d(0x84)](_0x5b394d(0x7e));if(_0x2143f9[_0x5b394d(0xbb)]==0x0)_0x3038ce+='<empty>';else for(const _0x135fa8 of _0x2143f9){_0x3038ce+='-\x20'+_0x135fa8+'\x0a';}_0x3038ce+=_0x5b394d(0x98),_0x3038ce+=_0x5b394d(0xb5);const _0x1b438e=await a3_0x1b9ddb[_0x5b394d(0x72)](_0x3038ce);if(_0x1b438e==0x1)await this[_0x5b394d(0xb9)]();else{if(_0x1b438e==0x2)Helper[_0x5b394d(0xc0)](),await Helper[_0x5b394d(0xb2)](0xbb8),await this[_0x5b394d(0x80)]();else{if(_0x1b438e==0x3)Helper[_0x5b394d(0x84)](this['accountName'])?.[_0x5b394d(0xbb)]==0x0&&(console['info']('You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first'),await this[_0x5b394d(0x80)]());else _0x1b438e==0x4?await this[_0x5b394d(0xaf)]():(console[_0x5b394d(0xbf)](_0x5b394d(0x79)),await this[_0x5b394d(0x80)]());}}}catch(_0x46d6d0){throw _0x46d6d0;}}async[a3_0xe7efe2(0xaf)](){const _0x2f6f43=a3_0xe7efe2;try{const _0x2f4d26=Helper[_0x2f6f43(0x84)](_0x2f6f43(0x7e)),_0x228770=_0x2f4d26[_0x2f6f43(0xbc)](_0x506739=>_0x506739['includes'](_0x2f6f43(0xad)));let _0x542b1a=_0x2f6f43(0x99);for(const _0x3e2c02 of _0x228770){_0x542b1a+=_0x2f4d26[_0x2f6f43(0x83)](_0x3e2c02)+0x1+'.\x20'+_0x3e2c02+'\x0a';}_0x228770[_0x2f6f43(0xbb)]==0x0?(console[_0x2f6f43(0x90)](_0x2f6f43(0x8f)),await this['onBoarding']()):_0x542b1a+=_0x2f6f43(0x9b);const _0x393f64=await a3_0x1b9ddb[_0x2f6f43(0x72)](_0x542b1a);if(_0x228770[_0x393f64-0x1]!=undefined){const _0x461da3=_0x228770[_0x393f64-0x1];this[_0x2f6f43(0xb0)]=_0x2f6f43(0xba)+_0x461da3;const _0x1ef808='Old\x20Query\x20:\x20'+Helper[_0x2f6f43(0x9a)](this[_0x2f6f43(0xb0)]+_0x2f6f43(0xab))+_0x2f6f43(0x73),_0x1f4c2d=await a3_0x1b9ddb[_0x2f6f43(0x72)](_0x1ef808);await Helper['saveQueryFile'](this[_0x2f6f43(0xb0)],_0x1f4c2d),await Helper['delay'](0xbb8),await this['onBoarding']();}else console[_0x2f6f43(0xbf)](_0x2f6f43(0x79)),await this[_0x2f6f43(0xaf)]();}catch(_0x4ef73d){throw _0x4ef73d;}}async[a3_0xe7efe2(0x75)](){const _0x54ec3b=a3_0xe7efe2;try{if(Config[_0x54ec3b(0xa3)]==undefined||Config[_0x54ec3b(0xa2)]==undefined)throw new Error(_0x54ec3b(0xa7));const _0x56fe32=Helper[_0x54ec3b(0x84)](_0x54ec3b(0x7e));let _0x57413e='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x108f13 of _0x56fe32){_0x57413e+=_0x56fe32[_0x54ec3b(0x83)](_0x108f13)+0x1+'.\x20'+_0x108f13+'\x0a';}_0x56fe32['length']==0x0?_0x57413e+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:':_0x57413e+='\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:';const _0x1d29ca=await a3_0x1b9ddb[_0x54ec3b(0x72)](_0x57413e);this[_0x54ec3b(0xb0)]=Helper['createDir'](_0x54ec3b(0x7c)+_0x1d29ca),await this[_0x54ec3b(0x7b)](this[_0x54ec3b(0xb0)]),await this[_0x54ec3b(0xae)](),a3_0x48933f[_0x54ec3b(0xbd)](_0x54ec3b(0x6e)+this[_0x54ec3b(0xb0)]+_0x54ec3b(0x9d)),console[_0x54ec3b(0x90)](_0x54ec3b(0x6e)+_0x1d29ca+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),this['storeSession'][_0x54ec3b(0x9f)](),await Helper[_0x54ec3b(0xb2)](0xbb8),process['exit']();}catch(_0x4ab22e){throw _0x4ab22e;}}async[a3_0xe7efe2(0x85)](){const _0x521b50=a3_0xe7efe2;try{const _0x1c4d1c=Helper[_0x521b50(0x84)](_0x521b50(0x7e));let _0x542d14='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x18d328 of _0x1c4d1c){_0x542d14+=_0x1c4d1c[_0x521b50(0x83)](_0x18d328)+0x1+'.\x20'+_0x18d328+'\x0a';}_0x1c4d1c['length']==0x0?_0x542d14+=_0x521b50(0x87):_0x542d14+=_0x521b50(0x89);const _0x1c2b00=await a3_0x1b9ddb[_0x521b50(0x72)](_0x542d14);this[_0x521b50(0xb0)]=Helper[_0x521b50(0x88)](_0x521b50(0xa8)+_0x1c2b00);let _0x414f91=_0x521b50(0xb8);const _0x4ebb25=await a3_0x1b9ddb[_0x521b50(0x72)](_0x414f91);await Helper[_0x521b50(0xb6)](this[_0x521b50(0xb0)],_0x4ebb25),a3_0x48933f['info'](_0x521b50(0xb7)+this[_0x521b50(0xb0)]+_0x521b50(0x9d)),console[_0x521b50(0x90)]('Query\x20'+_0x1c2b00+_0x521b50(0xa1)),await Helper[_0x521b50(0xb2)](0xbb8),process['exit']();}catch(_0xaccc0){throw _0xaccc0;}}async[a3_0xe7efe2(0xb9)](){const _0x150bc0=a3_0xe7efe2;try{const _0x598339=Helper[_0x150bc0(0x84)]('accounts');let _0x218d18=_0x150bc0(0x94);if(_0x598339[_0x150bc0(0xbb)]>0x0)for(const _0x495e5f of _0x598339){_0x218d18+=_0x598339[_0x150bc0(0x83)](_0x495e5f)+0x1+'.\x20'+_0x495e5f+'\x0a';}else _0x218d18+='<empty>\x0a';_0x218d18+='\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20';const _0x477f6b=await a3_0x1b9ddb[_0x150bc0(0x72)](_0x218d18);if(_0x477f6b==0x1)await this['sessionCreation']();else _0x477f6b==0x2?await this[_0x150bc0(0x85)]():(console[_0x150bc0(0x90)](_0x150bc0(0x7f)),await this['accountType']());}catch(_0x72ddf0){throw _0x72ddf0;}}async[a3_0xe7efe2(0x7b)](_0x4a6f8c,_0x308a6e){const _0x4278b0=a3_0xe7efe2;try{this['proxy']=_0x308a6e;const _0x216737={'connectionRetries':0x5};this[_0x4278b0(0xbe)]&&(_0x216737[_0x4278b0(0x6c)]=new HttpsProxyAgent(this[_0x4278b0(0xbe)])),this[_0x4278b0(0xb3)]=new StoreSession(_0x4a6f8c),this[_0x4278b0(0xb1)]=new TelegramClient(this[_0x4278b0(0xb3)],Config[_0x4278b0(0xa3)],Config['TELEGRAM_APP_HASH'],_0x216737),this[_0x4278b0(0xb3)][_0x4278b0(0x9f)](),await this[_0x4278b0(0xb1)][_0x4278b0(0x70)]({'phoneNumber':async()=>await a3_0x1b9ddb[_0x4278b0(0x72)](_0x4278b0(0xa0)),'password':async()=>await a3_0x1b9ddb[_0x4278b0(0x72)]('Enter\x20your\x20Telegram\x20Password?'),'phoneCode':async()=>await a3_0x1b9ddb[_0x4278b0(0x72)](_0x4278b0(0x77)),'onError':_0x3ceecb=>{console['log'](_0x3ceecb['message']);}});}catch(_0x4bc830){throw _0x4bc830;}}async[a3_0xe7efe2(0x8b)](){const _0x2f5fce=a3_0xe7efe2;try{a3_0x48933f[_0x2f5fce(0xbd)](_0x2f5fce(0x6e)+this[_0x2f5fce(0x6d)]+_0x2f5fce(0x9c));while(this['peer']==undefined){try{this[_0x2f5fce(0xb4)]=await this[_0x2f5fce(0xb1)][_0x2f5fce(0x96)](this[_0x2f5fce(0x82)]);break;}catch(_0x8a329e){if(_0x8a329e instanceof FloodWaitError){const _0x4c9be8=_0x8a329e[_0x2f5fce(0x6f)];a3_0x48933f['warn'](this[_0x2f5fce(0xb1)][_0x2f5fce(0x6d)][_0x2f5fce(0x71)]+_0x2f5fce(0x76)+_0x8a329e),a3_0x48933f[_0x2f5fce(0xbd)](this[_0x2f5fce(0xb1)][_0x2f5fce(0x6d)]['serverAddress']+_0x2f5fce(0xaa)+_0x4c9be8+'s'),await Helper[_0x2f5fce(0xb2)]((_0x4c9be8+0x3)*0x3e8);}else throw _0x8a329e;}}}catch(_0x3a67c5){throw _0x3a67c5;}}async[a3_0xe7efe2(0x74)](){const _0x2f9d9a=a3_0xe7efe2;try{const _0x25f8c4=await this[_0x2f9d9a(0xb1)][_0x2f9d9a(0xa9)](new Api[(_0x2f9d9a(0x86))][(_0x2f9d9a(0x6b))]({'peer':this[_0x2f9d9a(0xb4)],'bot':this['peer'],'fromBotMenu':!![],'url':this['url'],'platform':_0x2f9d9a(0x81)}));a3_0x48933f[_0x2f9d9a(0xbd)]('Session\x20'+this[_0x2f9d9a(0x6d)]+_0x2f9d9a(0xa4));const _0x7017b6=_0x25f8c4['url'];return Helper[_0x2f9d9a(0x9e)](_0x7017b6,0x3);}catch(_0xee32fd){throw _0xee32fd;}}async[a3_0xe7efe2(0xae)](){const _0x2d64ef=a3_0xe7efe2;await this[_0x2d64ef(0xb1)][_0x2d64ef(0xae)](),await this['client'][_0x2d64ef(0xac)](),this[_0x2d64ef(0xb4)]=undefined,this[_0x2d64ef(0xb0)]=undefined;}}