const a3_0x1854b3=a3_0x4546;(function(_0x337fde,_0x289017){const _0x5ce7a8=a3_0x4546,_0x348a67=_0x337fde();while(!![]){try{const _0x155a6e=parseInt(_0x5ce7a8(0x188))/0x1*(parseInt(_0x5ce7a8(0x184))/0x2)+-parseInt(_0x5ce7a8(0x163))/0x3*(-parseInt(_0x5ce7a8(0x137))/0x4)+parseInt(_0x5ce7a8(0x15b))/0x5+parseInt(_0x5ce7a8(0x139))/0x6+-parseInt(_0x5ce7a8(0x17a))/0x7+parseInt(_0x5ce7a8(0x150))/0x8*(parseInt(_0x5ce7a8(0x142))/0x9)+-parseInt(_0x5ce7a8(0x186))/0xa;if(_0x155a6e===_0x289017)break;else _0x348a67['push'](_0x348a67['shift']());}catch(_0x4fbdaf){_0x348a67['push'](_0x348a67['shift']());}}}(a3_0x4179,0xf08d7));import a3_0xe031a4 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';function a3_0x4546(_0x264b18,_0x1c6ba5){const _0x417941=a3_0x4179();return a3_0x4546=function(_0x454681,_0x27f8ca){_0x454681=_0x454681-0x133;let _0x21fbb9=_0x417941[_0x454681];return _0x21fbb9;},a3_0x4546(_0x264b18,_0x1c6ba5);}import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x58f5f3 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';function a3_0x4179(){const _0x5e17f5=['You\x20dont\x20have\x20any\x20Query\x20Account.','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','https://webapp.pitchtalk.app/','resetAccounts','start','warn','error','5390567qWSOOa','pitchtalk_bot','delay','createDir','<empty>\x0a','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','destroy','\x20-\x20Webview\x20Connected','getSession','Your\x20Account\x20List\x20:\x0a\x20\x0a','2402wEBeHp','accounts/','17494160MXnanj','/query.txt','107mhGKaq','onBoarding','info','client','stringify','Invalid\x20input,\x20Please\x20try\x20again','125876XZsaIh','sessions-','3389010YkgmbZ','Please\x20Enter\x20Telegram\x20Query\x20:\x20','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','Invalid\x20Input','<empty>','accounts','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','message','27mKIXGb','accountType','init','disconnect','initWebView','accountName','storeSession','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','bot','TELEGRAM_APP_HASH','query','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','queryModificaiton','exit','4458632NGcdXr','proxy','queryCreation','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','Old\x20Query\x20:\x20','agent','Query\x20','indexOf','android','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','readQueryFile','1606385FFWOPF','filter','text','peer','getTelegramQuery','TELEGRAM_APP_ID','length','getEntity','78OfZylD','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','messages','includes','session','serverAddress','sessionCreation','url','seconds','\x20|\x20Sleep\x20','resolvePeer','log','useSession','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','Enter\x20your\x20Telegram\x20Password?','Session\x20'];a3_0x4179=function(){return _0x5e17f5;};return a3_0x4179();}export class Telegram{[a3_0x1854b3(0x148)];constructor(){const _0xa420e6=a3_0x1854b3;this['accountName']=_0xa420e6(0x13f),this[_0xa420e6(0x16a)]=_0xa420e6(0x175),this[_0xa420e6(0x14a)]=_0xa420e6(0x17b);}async[a3_0x1854b3(0x144)](){const _0x33e71c=a3_0x1854b3;try{await this[_0x33e71c(0x189)]();}catch(_0x3320d0){console[_0x33e71c(0x16e)](_0x3320d0),a3_0x58f5f3[_0x33e71c(0x179)](''+JSON[_0x33e71c(0x135)](_0x3320d0));throw _0x3320d0;}}async[a3_0x1854b3(0x189)](){const _0x386c97=a3_0x1854b3;try{let _0x1700f3=_0x386c97(0x14d);const _0x886ff2=Helper[_0x386c97(0x182)](_0x386c97(0x13f));if(_0x886ff2['length']==0x0)_0x1700f3+=_0x386c97(0x13e);else for(const _0x1d836a of _0x886ff2){_0x1700f3+='-\x20'+_0x1d836a+'\x0a';}_0x1700f3+='\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a',_0x1700f3+='\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:';const _0x2f5548=await a3_0xe031a4['text'](_0x1700f3);if(_0x2f5548==0x1)await this[_0x386c97(0x143)]();else{if(_0x2f5548==0x2)Helper[_0x386c97(0x176)](),await Helper[_0x386c97(0x17c)](0xbb8),await this[_0x386c97(0x189)]();else{if(_0x2f5548==0x3)Helper['getSession'](this[_0x386c97(0x147)])?.[_0x386c97(0x161)]==0x0&&(console['info'](_0x386c97(0x164)),await this['onBoarding']());else _0x2f5548==0x4?await this[_0x386c97(0x14e)]():(console[_0x386c97(0x179)]('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x386c97(0x189)]());}}}catch(_0x4b5dc4){throw _0x4b5dc4;}}async[a3_0x1854b3(0x14e)](){const _0x4b5d90=a3_0x1854b3;try{const _0x28c7d1=Helper['getSession'](_0x4b5d90(0x13f)),_0x371ea3=_0x28c7d1[_0x4b5d90(0x15c)](_0x3fcf2d=>_0x3fcf2d[_0x4b5d90(0x166)](_0x4b5d90(0x14c)));let _0x5b2538=_0x4b5d90(0x17f);for(const _0x42a6fc of _0x371ea3){_0x5b2538+=_0x28c7d1[_0x4b5d90(0x157)](_0x42a6fc)+0x1+'.\x20'+_0x42a6fc+'\x0a';}_0x371ea3[_0x4b5d90(0x161)]==0x0?(console[_0x4b5d90(0x16e)](_0x4b5d90(0x173)),await this[_0x4b5d90(0x189)]()):_0x5b2538+='\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:';const _0x2477f3=await a3_0xe031a4[_0x4b5d90(0x15d)](_0x5b2538);if(_0x371ea3[_0x2477f3-0x1]!=undefined){const _0x40cfdc=_0x371ea3[_0x2477f3-0x1];this[_0x4b5d90(0x147)]=_0x4b5d90(0x185)+_0x40cfdc;const _0x12d17a=_0x4b5d90(0x154)+Helper[_0x4b5d90(0x15a)](this[_0x4b5d90(0x147)]+_0x4b5d90(0x187))+_0x4b5d90(0x13c),_0x3fe1cc=await a3_0xe031a4[_0x4b5d90(0x15d)](_0x12d17a);await Helper['saveQueryFile'](this[_0x4b5d90(0x147)],_0x3fe1cc),await Helper[_0x4b5d90(0x17c)](0xbb8),await this[_0x4b5d90(0x189)]();}else console[_0x4b5d90(0x179)](_0x4b5d90(0x136)),await this[_0x4b5d90(0x14e)]();}catch(_0x10dcfb){throw _0x10dcfb;}}async[a3_0x1854b3(0x169)](){const _0x1f8eb2=a3_0x1854b3;try{if(Config[_0x1f8eb2(0x160)]==undefined||Config['TELEGRAM_APP_HASH']==undefined)throw new Error(_0x1f8eb2(0x159));const _0x3038fd=Helper[_0x1f8eb2(0x182)](_0x1f8eb2(0x13f));let _0x18356e=_0x1f8eb2(0x183);for(const _0x28440b of _0x3038fd){_0x18356e+=_0x3038fd[_0x1f8eb2(0x157)](_0x28440b)+0x1+'.\x20'+_0x28440b+'\x0a';}_0x3038fd['length']==0x0?_0x18356e+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:':_0x18356e+=_0x1f8eb2(0x174);const _0xf85d7d=await a3_0xe031a4[_0x1f8eb2(0x15d)](_0x18356e);this[_0x1f8eb2(0x147)]=Helper[_0x1f8eb2(0x17d)](_0x1f8eb2(0x138)+_0xf85d7d),await this['useSession'](this[_0x1f8eb2(0x147)]),await this[_0x1f8eb2(0x145)](),a3_0x58f5f3[_0x1f8eb2(0x133)]('Session\x20'+this['accountName']+'\x20-\x20Created'),console[_0x1f8eb2(0x16e)](_0x1f8eb2(0x172)+_0xf85d7d+_0x1f8eb2(0x153)),this[_0x1f8eb2(0x148)]['save'](),await Helper['delay'](0xbb8),process[_0x1f8eb2(0x14f)]();}catch(_0x435db1){throw _0x435db1;}}async[a3_0x1854b3(0x152)](){const _0x1a2a2c=a3_0x1854b3;try{const _0xe5a7ab=Helper[_0x1a2a2c(0x182)](_0x1a2a2c(0x13f));let _0x115c76=_0x1a2a2c(0x183);for(const _0xb9836c of _0xe5a7ab){_0x115c76+=_0xe5a7ab[_0x1a2a2c(0x157)](_0xb9836c)+0x1+'.\x20'+_0xb9836c+'\x0a';}_0xe5a7ab['length']==0x0?_0x115c76+=_0x1a2a2c(0x140):_0x115c76+=_0x1a2a2c(0x13b);const _0x2d700d=await a3_0xe031a4[_0x1a2a2c(0x15d)](_0x115c76);this[_0x1a2a2c(0x147)]=Helper[_0x1a2a2c(0x17d)]('query-'+_0x2d700d);let _0x4f6c8e=_0x1a2a2c(0x13a);const _0x56ab61=await a3_0xe031a4[_0x1a2a2c(0x15d)](_0x4f6c8e);await Helper['saveQueryFile'](this[_0x1a2a2c(0x147)],_0x56ab61),a3_0x58f5f3['info'](_0x1a2a2c(0x156)+this['accountName']+'\x20-\x20Created'),console['log'](_0x1a2a2c(0x156)+_0x2d700d+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),await Helper[_0x1a2a2c(0x17c)](0xbb8),process[_0x1a2a2c(0x14f)]();}catch(_0x7fcf81){throw _0x7fcf81;}}async[a3_0x1854b3(0x143)](){const _0x500800=a3_0x1854b3;try{const _0x1778be=Helper[_0x500800(0x182)]('accounts');let _0x576bf7=_0x500800(0x183);if(_0x1778be[_0x500800(0x161)]>0x0)for(const _0xdf4914 of _0x1778be){_0x576bf7+=_0x1778be[_0x500800(0x157)](_0xdf4914)+0x1+'.\x20'+_0xdf4914+'\x0a';}else _0x576bf7+=_0x500800(0x17e);_0x576bf7+=_0x500800(0x149);const _0x1b1d7c=await a3_0xe031a4[_0x500800(0x15d)](_0x576bf7);if(_0x1b1d7c==0x1)await this[_0x500800(0x169)]();else _0x1b1d7c==0x2?await this[_0x500800(0x152)]():(console[_0x500800(0x16e)](_0x500800(0x13d)),await this[_0x500800(0x143)]());}catch(_0x5c2a70){throw _0x5c2a70;}}async[a3_0x1854b3(0x16f)](_0xf51831,_0x471a91){const _0x2807bb=a3_0x1854b3;try{this[_0x2807bb(0x151)]=_0x471a91;const _0x54ffdf={'connectionRetries':0x5};this[_0x2807bb(0x151)]&&(_0x54ffdf[_0x2807bb(0x155)]=new HttpsProxyAgent(this[_0x2807bb(0x151)])),this[_0x2807bb(0x148)]=new StoreSession(_0xf51831),this[_0x2807bb(0x134)]=new TelegramClient(this['storeSession'],Config[_0x2807bb(0x160)],Config[_0x2807bb(0x14b)],_0x54ffdf),this[_0x2807bb(0x148)]['save'](),await this[_0x2807bb(0x134)][_0x2807bb(0x177)]({'phoneNumber':async()=>await a3_0xe031a4[_0x2807bb(0x15d)]('Enter\x20your\x20Telegram\x20Phone\x20Number\x20?'),'password':async()=>await a3_0xe031a4['text'](_0x2807bb(0x171)),'phoneCode':async()=>await a3_0xe031a4[_0x2807bb(0x15d)](_0x2807bb(0x170)),'onError':_0x4ee9a2=>{const _0x126570=_0x2807bb;console['log'](_0x4ee9a2[_0x126570(0x141)]);}});}catch(_0x1a2c41){throw _0x1a2c41;}}async[a3_0x1854b3(0x16d)](){const _0x25781e=a3_0x1854b3;try{a3_0x58f5f3[_0x25781e(0x133)](_0x25781e(0x172)+this[_0x25781e(0x167)]+'\x20-\x20Resolving\x20Peer');while(this[_0x25781e(0x15e)]==undefined){try{this[_0x25781e(0x15e)]=await this[_0x25781e(0x134)][_0x25781e(0x162)](this[_0x25781e(0x14a)]);break;}catch(_0xa3e14a){if(_0xa3e14a instanceof FloodWaitError){const _0x355bfb=_0xa3e14a[_0x25781e(0x16b)];a3_0x58f5f3[_0x25781e(0x178)](this[_0x25781e(0x134)][_0x25781e(0x167)][_0x25781e(0x168)]+'\x20|\x20FloodWait\x20'+_0xa3e14a),a3_0x58f5f3['info'](this[_0x25781e(0x134)][_0x25781e(0x167)][_0x25781e(0x168)]+_0x25781e(0x16c)+_0x355bfb+'s'),await Helper['delay']((_0x355bfb+0x3)*0x3e8);}else throw _0xa3e14a;}}}catch(_0x27602f){throw _0x27602f;}}async[a3_0x1854b3(0x146)](){const _0x13116a=a3_0x1854b3;try{const _0x4f98cb=await this[_0x13116a(0x134)]['invoke'](new Api[(_0x13116a(0x165))]['RequestWebView']({'peer':this[_0x13116a(0x15e)],'bot':this[_0x13116a(0x15e)],'fromBotMenu':!![],'url':this[_0x13116a(0x16a)],'platform':_0x13116a(0x158)}));a3_0x58f5f3['info'](_0x13116a(0x172)+this['session']+_0x13116a(0x181));const _0x15a718=_0x4f98cb[_0x13116a(0x16a)];return Helper[_0x13116a(0x15f)](_0x15a718,0x3);}catch(_0x536e2f){throw _0x536e2f;}}async[a3_0x1854b3(0x145)](){const _0x27508d=a3_0x1854b3;await this[_0x27508d(0x134)]['disconnect'](),await this['client'][_0x27508d(0x180)](),this['peer']=undefined,this[_0x27508d(0x147)]=undefined;}}