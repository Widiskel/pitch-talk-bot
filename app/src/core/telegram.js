const a3_0x538a3d=a3_0x4a99;(function(_0x572640,_0x2be643){const _0x458265=a3_0x4a99,_0x107551=_0x572640();while(!![]){try{const _0xedd63a=-parseInt(_0x458265(0x1c4))/0x1+parseInt(_0x458265(0x1e0))/0x2+-parseInt(_0x458265(0x20d))/0x3+-parseInt(_0x458265(0x203))/0x4*(parseInt(_0x458265(0x200))/0x5)+-parseInt(_0x458265(0x1c9))/0x6+parseInt(_0x458265(0x1f2))/0x7+-parseInt(_0x458265(0x1cc))/0x8*(-parseInt(_0x458265(0x1f5))/0x9);if(_0xedd63a===_0x2be643)break;else _0x107551['push'](_0x107551['shift']());}catch(_0x1750e1){_0x107551['push'](_0x107551['shift']());}}}(a3_0x2bfd,0xc87dc));function a3_0x2bfd(){const _0x4976e3=['client','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','storeSession','filter','Session\x20','useSession','text','warn','getEntity','\x20|\x20FloodWait\x20','seconds','sessionCreation','TELEGRAM_APP_ID','url','getSession','5607868AlYuqG','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','accountType','49041ogvTra','queryCreation','getTelegramQuery','info','includes','android','<empty>','query-','Query\x20','resolvePeer','proxy','68325fFUmXo','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','readQueryFile','12XxmqHG','Old\x20Query\x20:\x20','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','pitchtalk_bot','Invalid\x20input,\x20Please\x20try\x20again','accountName','agent','serverAddress','createDir','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','4611729DkEHgm','<empty>\x0a','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','/query.txt','bot','log','indexOf','resetAccounts','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','1062751CXpTsN','\x20|\x20Sleep\x20','query','onBoarding','peer','6105564aYFTaz','\x20-\x20Created','queryModificaiton','5192dPkpid','You\x20dont\x20have\x20any\x20Query\x20Account.','Your\x20Account\x20List\x20:\x0a\x20\x0a','\x20-\x20Resolving\x20Peer','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','messages','init','disconnect','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','length','start','error','sessions-','session','destroy','\x20-\x20Webview\x20Connected','Enter\x20your\x20Telegram\x20Password?','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','accounts','284540wOVLIL','TELEGRAM_APP_HASH','delay'];a3_0x2bfd=function(){return _0x4976e3;};return a3_0x2bfd();}import a3_0x11b736 from'input';function a3_0x4a99(_0x294dc0,_0x2cf5c5){const _0x2bfd04=a3_0x2bfd();return a3_0x4a99=function(_0x4a993d,_0x4c0256){_0x4a993d=_0x4a993d-0x1c3;let _0x4f7abc=_0x2bfd04[_0x4a993d];return _0x4f7abc;},a3_0x4a99(_0x294dc0,_0x2cf5c5);}import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x28357f from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{['storeSession'];constructor(){const _0xa8ebee=a3_0x4a99;this[_0xa8ebee(0x208)]=_0xa8ebee(0x1df),this['url']='https://webapp.pitchtalk.app/',this[_0xa8ebee(0x211)]=_0xa8ebee(0x206);}async[a3_0x538a3d(0x1d2)](){const _0x37223a=a3_0x538a3d;try{await this[_0x37223a(0x1c7)]();}catch(_0x397789){console['log'](_0x397789),a3_0x28357f[_0x37223a(0x1d7)](''+JSON['stringify'](_0x397789));throw _0x397789;}}async[a3_0x538a3d(0x1c7)](){const _0x33da8d=a3_0x538a3d;try{let _0x4aafde=_0x33da8d(0x205);const _0x33c2c6=Helper[_0x33da8d(0x1f1)](_0x33da8d(0x1df));if(_0x33c2c6[_0x33da8d(0x1d5)]==0x0)_0x4aafde+=_0x33da8d(0x1fb);else for(const _0x513a5e of _0x33c2c6){_0x4aafde+='-\x20'+_0x513a5e+'\x0a';}_0x4aafde+='\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a',_0x4aafde+=_0x33da8d(0x1e4);const _0x56a5f6=await a3_0x11b736['text'](_0x4aafde);if(_0x56a5f6==0x1)await this[_0x33da8d(0x1f4)]();else{if(_0x56a5f6==0x2)Helper[_0x33da8d(0x214)](),await Helper[_0x33da8d(0x1e2)](0xbb8),await this['onBoarding']();else{if(_0x56a5f6==0x3)Helper[_0x33da8d(0x1f1)](this['accountName'])?.[_0x33da8d(0x1d5)]==0x0&&(console[_0x33da8d(0x1f8)]('You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first'),await this[_0x33da8d(0x1c7)]());else _0x56a5f6==0x4?await this[_0x33da8d(0x1cb)]():(console[_0x33da8d(0x1d7)](_0x33da8d(0x207)),await this[_0x33da8d(0x1c7)]());}}}catch(_0x316c58){throw _0x316c58;}}async[a3_0x538a3d(0x1cb)](){const _0x381221=a3_0x538a3d;try{const _0x801f1c=Helper[_0x381221(0x1f1)](_0x381221(0x1df)),_0x255881=_0x801f1c[_0x381221(0x1e6)](_0xa72a42=>_0xa72a42[_0x381221(0x1f9)](_0x381221(0x1c6)));let _0x1f0175=_0x381221(0x20f);for(const _0x39af93 of _0x255881){_0x1f0175+=_0x801f1c['indexOf'](_0x39af93)+0x1+'.\x20'+_0x39af93+'\x0a';}_0x255881[_0x381221(0x1d5)]==0x0?(console[_0x381221(0x212)](_0x381221(0x1cd)),await this[_0x381221(0x1c7)]()):_0x1f0175+='\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:';const _0x212a89=await a3_0x11b736[_0x381221(0x1e9)](_0x1f0175);if(_0x255881[_0x212a89-0x1]!=undefined){const _0xaf76f1=_0x255881[_0x212a89-0x1];this[_0x381221(0x208)]='accounts/'+_0xaf76f1;const _0x4642e4=_0x381221(0x204)+Helper[_0x381221(0x202)](this['accountName']+_0x381221(0x210))+_0x381221(0x20c),_0x5beb07=await a3_0x11b736[_0x381221(0x1e9)](_0x4642e4);await Helper['saveQueryFile'](this['accountName'],_0x5beb07),await Helper[_0x381221(0x1e2)](0xbb8),await this['onBoarding']();}else console[_0x381221(0x1d7)](_0x381221(0x207)),await this[_0x381221(0x1cb)]();}catch(_0x5f034c){throw _0x5f034c;}}async[a3_0x538a3d(0x1ee)](){const _0x4076ba=a3_0x538a3d;try{if(Config[_0x4076ba(0x1ef)]==undefined||Config[_0x4076ba(0x1e1)]==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0x155176=Helper[_0x4076ba(0x1f1)](_0x4076ba(0x1df));let _0x4fe668=_0x4076ba(0x1ce);for(const _0xb6283e of _0x155176){_0x4fe668+=_0x155176[_0x4076ba(0x213)](_0xb6283e)+0x1+'.\x20'+_0xb6283e+'\x0a';}_0x155176['length']==0x0?_0x4fe668+=_0x4076ba(0x1f3):_0x4fe668+=_0x4076ba(0x1dd);const _0x171a0f=await a3_0x11b736[_0x4076ba(0x1e9)](_0x4fe668);this[_0x4076ba(0x208)]=Helper[_0x4076ba(0x20b)](_0x4076ba(0x1d8)+_0x171a0f),await this[_0x4076ba(0x1e8)](this[_0x4076ba(0x208)]),await this[_0x4076ba(0x1d3)](),a3_0x28357f['info']('Session\x20'+this[_0x4076ba(0x208)]+_0x4076ba(0x1ca)),console['log'](_0x4076ba(0x1e7)+_0x171a0f+_0x4076ba(0x1c3)),this[_0x4076ba(0x1e5)]['save'](),await Helper['delay'](0xbb8),process['exit']();}catch(_0x556a06){throw _0x556a06;}}async[a3_0x538a3d(0x1f6)](){const _0x144456=a3_0x538a3d;try{const _0x4c0ad6=Helper['getSession'](_0x144456(0x1df));let _0x352c97=_0x144456(0x1ce);for(const _0x295218 of _0x4c0ad6){_0x352c97+=_0x4c0ad6['indexOf'](_0x295218)+0x1+'.\x20'+_0x295218+'\x0a';}_0x4c0ad6[_0x144456(0x1d5)]==0x0?_0x352c97+=_0x144456(0x1de):_0x352c97+=_0x144456(0x1d4);const _0x18161e=await a3_0x11b736['text'](_0x352c97);this[_0x144456(0x208)]=Helper['createDir'](_0x144456(0x1fc)+_0x18161e);let _0x18ea66='Please\x20Enter\x20Telegram\x20Query\x20:\x20';const _0x389084=await a3_0x11b736['text'](_0x18ea66);await Helper['saveQueryFile'](this['accountName'],_0x389084),a3_0x28357f[_0x144456(0x1f8)](_0x144456(0x1fd)+this[_0x144456(0x208)]+_0x144456(0x1ca)),console[_0x144456(0x212)]('Query\x20'+_0x18161e+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),await Helper['delay'](0xbb8),process['exit']();}catch(_0x2ecc88){throw _0x2ecc88;}}async[a3_0x538a3d(0x1f4)](){const _0x14fc5c=a3_0x538a3d;try{const _0x4bd4be=Helper[_0x14fc5c(0x1f1)](_0x14fc5c(0x1df));let _0x2902f1=_0x14fc5c(0x1ce);if(_0x4bd4be[_0x14fc5c(0x1d5)]>0x0)for(const _0x212a09 of _0x4bd4be){_0x2902f1+=_0x4bd4be['indexOf'](_0x212a09)+0x1+'.\x20'+_0x212a09+'\x0a';}else _0x2902f1+=_0x14fc5c(0x20e);_0x2902f1+='\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20';const _0x560f46=await a3_0x11b736[_0x14fc5c(0x1e9)](_0x2902f1);if(_0x560f46==0x1)await this['sessionCreation']();else _0x560f46==0x2?await this[_0x14fc5c(0x1f6)]():(console['log']('Invalid\x20Input'),await this['accountType']());}catch(_0x9e3448){throw _0x9e3448;}}async[a3_0x538a3d(0x1e8)](_0x46f30b,_0x3c7797){const _0x50ddd6=a3_0x538a3d;try{this[_0x50ddd6(0x1ff)]=_0x3c7797;const _0x3288c7={'connectionRetries':0x5};this[_0x50ddd6(0x1ff)]&&(_0x3288c7[_0x50ddd6(0x209)]=new HttpsProxyAgent(this[_0x50ddd6(0x1ff)])),this['storeSession']=new StoreSession(_0x46f30b),this[_0x50ddd6(0x1e3)]=new TelegramClient(this[_0x50ddd6(0x1e5)],Config['TELEGRAM_APP_ID'],Config[_0x50ddd6(0x1e1)],_0x3288c7),this['storeSession']['save'](),await this[_0x50ddd6(0x1e3)][_0x50ddd6(0x1d6)]({'phoneNumber':async()=>await a3_0x11b736[_0x50ddd6(0x1e9)](_0x50ddd6(0x201)),'password':async()=>await a3_0x11b736[_0x50ddd6(0x1e9)](_0x50ddd6(0x1dc)),'phoneCode':async()=>await a3_0x11b736['text'](_0x50ddd6(0x1d0)),'onError':_0x17d628=>{const _0x43dcdc=_0x50ddd6;console[_0x43dcdc(0x212)](_0x17d628['message']);}});}catch(_0xfe126f){throw _0xfe126f;}}async[a3_0x538a3d(0x1fe)](){const _0x42485a=a3_0x538a3d;try{a3_0x28357f['info'](_0x42485a(0x1e7)+this['session']+_0x42485a(0x1cf));while(this[_0x42485a(0x1c8)]==undefined){try{this[_0x42485a(0x1c8)]=await this['client'][_0x42485a(0x1eb)](this['bot']);break;}catch(_0x459f4d){if(_0x459f4d instanceof FloodWaitError){const _0x2a6730=_0x459f4d[_0x42485a(0x1ed)];a3_0x28357f[_0x42485a(0x1ea)](this['client'][_0x42485a(0x1d9)][_0x42485a(0x20a)]+_0x42485a(0x1ec)+_0x459f4d),a3_0x28357f['info'](this[_0x42485a(0x1e3)]['session']['serverAddress']+_0x42485a(0x1c5)+_0x2a6730+'s'),await Helper[_0x42485a(0x1e2)]((_0x2a6730+0x3)*0x3e8);}else throw _0x459f4d;}}}catch(_0x1afde2){throw _0x1afde2;}}async['initWebView'](){const _0x1eb60a=a3_0x538a3d;try{const _0x1dff82=await this[_0x1eb60a(0x1e3)]['invoke'](new Api[(_0x1eb60a(0x1d1))]['RequestWebView']({'peer':this['peer'],'bot':this[_0x1eb60a(0x1c8)],'fromBotMenu':!![],'url':this['url'],'platform':_0x1eb60a(0x1fa)}));a3_0x28357f[_0x1eb60a(0x1f8)](_0x1eb60a(0x1e7)+this[_0x1eb60a(0x1d9)]+_0x1eb60a(0x1db));const _0x583e96=_0x1dff82[_0x1eb60a(0x1f0)];return Helper[_0x1eb60a(0x1f7)](_0x583e96,0x3);}catch(_0xc952f3){throw _0xc952f3;}}async[a3_0x538a3d(0x1d3)](){const _0x22d34f=a3_0x538a3d;await this['client'][_0x22d34f(0x1d3)](),await this[_0x22d34f(0x1e3)][_0x22d34f(0x1da)](),this[_0x22d34f(0x1c8)]=undefined,this['accountName']=undefined;}}